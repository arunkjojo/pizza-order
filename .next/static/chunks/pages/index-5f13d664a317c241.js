(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{531:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return B},default:function(){return E}});var r=n(9008),a=n(7294),i=n(266),s=n(37),c=n(2809),o=n(809),l=n.n(o),u=n(2753),d=n.n(u),p=n(9669),m=n.n(p),f=(n(1163),n(5893));function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t=e.setClose,n=(0,a.useState)(null),r=n[0],o=n[1],u=(0,a.useState)(null),p=u[0],_=u[1],h=(0,a.useState)(null),j=h[0],v=h[1],g=(0,a.useState)([]),N=g[0],b=g[1],y=(0,a.useState)(null),w=y[0],C=y[1],z=(0,a.useState)([]),A=z[0],O=z[1],P=function(e,t){var n=N;n[t]=e,b(n)},S=function(e){C(x(x({},w),{},(0,c.Z)({},e.target.name,e.target.value)))},k=function(){var e=(0,i.Z)(l().mark((function e(){var n,a,i,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",r),n.append("upload_preset","uploads"),e.prev=3,e.next=6,m().post("https://api.cloudinary.com/v1_1/dlhpiunay/image/upload",n);case 6:return a=e.sent,i=a.data.url,s={title:p,desc:j,img:i,prices:N,extraOptions:A},e.next=11,m().post("http://localhost:3000/api/products",s);case 11:t(!0),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}();return(0,f.jsx)("div",{className:d().container,children:(0,f.jsxs)("div",{className:d().wrapper,children:[(0,f.jsx)("span",{onClick:function(){return t(!0)},className:d().close,children:"X"}),(0,f.jsx)("h1",{children:"Add New Pizza"}),(0,f.jsxs)("div",{className:d().item,children:[(0,f.jsx)("label",{className:d().label,children:"Choose an Image"}),(0,f.jsx)("input",{className:d().input,type:"file",accept:".png, .jpg, .jpeg",onChange:function(e){return o(e.target.files[0])}})]}),(0,f.jsxs)("div",{className:d().item,children:[(0,f.jsx)("label",{className:d().label,children:"Name"}),(0,f.jsx)("input",{className:d().input,type:"text",placeholder:"Title",onChange:function(e){return _(e.target.value)}})]}),(0,f.jsxs)("div",{className:d().item,children:[(0,f.jsx)("label",{className:d().label,children:"Description"}),(0,f.jsx)("textarea",{rows:4,className:d().input,type:"text",placeholder:"Description",onChange:function(e){return v(e.target.value)}})]}),(0,f.jsxs)("div",{className:d().item,children:[(0,f.jsx)("label",{className:d().label,children:"Price"}),(0,f.jsxs)("div",{className:d().priceContainer,children:[(0,f.jsx)("input",{className:"".concat(d().input," ").concat(d().indexSm),type:"number",placeholder:"Small",step:".01",onChange:function(e){return P(e.target.value,0)}}),(0,f.jsx)("input",{className:"".concat(d().input," ").concat(d().indexSm),type:"number",placeholder:"Medium",step:".01",onChange:function(e){return P(e.target.value,1)}}),(0,f.jsx)("input",{className:"".concat(d().input," ").concat(d().indexSm),type:"number",placeholder:"Large",step:".01",onChange:function(e){return P(e.target.value,2)}})]})]}),(0,f.jsxs)("div",{className:d().item,children:[(0,f.jsx)("label",{className:d().label,children:"Extra Options"}),(0,f.jsxs)("div",{className:d().extra,children:[(0,f.jsx)("input",{className:"".concat(d().input," ").concat(d().indexSm),type:"text",placeholder:"Item",name:"text",onChange:function(e){return S(e)}}),(0,f.jsx)("input",{className:d().input,type:"number",step:"0.01",name:"price",placeholder:"Price",onChange:function(e){return S(e)}}),(0,f.jsx)("button",{className:d().extraButton,onClick:function(){O((function(e){return[].concat((0,s.Z)(e),[w])}))},children:"Add"})]}),(0,f.jsx)("div",{className:d().extraItems,children:A.map((function(e){return(0,f.jsxs)("span",{className:d().extraItem,children:[e.text," : $",e.price]},e.text)}))})]}),(0,f.jsx)("button",{className:d().addButton,onClick:k,children:"Create"})]})})},j=n(4519),v=n.n(j),g=function(e){var t=e.setClose;return(0,f.jsx)("div",{onClick:function(){return t(!1)},className:v().mainAddButton,children:"Add New Pizza"})},N=n(4381),b=n.n(N),y=n(5675),w=function(){var e=(0,a.useState)(0),t=e[0],n=e[1],r=function(e){"l"===e&&n(0!==t?t-1:2),"r"===e&&n(2!==t?t+1:0)};return(0,f.jsxs)("div",{className:b().container,children:[(0,f.jsx)("div",{className:b().arrowContainer,style:{left:0},onClick:function(){return r("l")},children:(0,f.jsx)(y.default,{src:"/img/arrowl.png",alt:"",layout:"fill",objectFit:"contain"})}),(0,f.jsx)("div",{className:b().wrapper,style:{transform:"translateX(".concat(-100*t,"vw)")},children:["/img/featured.jpeg","/img/featured2.jpeg","/img/featured3.jpeg"].map((function(e,t){return(0,f.jsx)("div",{className:b().imgContainer,children:(0,f.jsx)(y.default,{src:e,alt:"",layout:"fill",objectFit:"contain"})},t)}))}),(0,f.jsx)("div",{className:b().arrowContainer,style:{right:0},onClick:function(){return r("r")},children:(0,f.jsx)(y.default,{src:"/img/arrowr.png",layout:"fill",alt:"",objectFit:"contain"})})]})},C=n(7526),z=n.n(C),A=n(1664),O=n(589),P=n.n(O),S=function(e){var t=e.pizza;return(0,f.jsxs)("div",{className:P().container,children:[(0,f.jsx)(A.default,{href:"/product/".concat(t._id),passHref:!0,children:(0,f.jsx)(y.default,{src:t.img,alt:t.title,width:"500",height:"500"})}),(0,f.jsx)(A.default,{href:"/product/".concat(t._id),passHref:!0,children:(0,f.jsx)("h1",{className:P().title,children:t.title})}),(0,f.jsxs)("span",{className:P().price,children:["$ ",t.prices[0]]}),(0,f.jsx)("p",{className:P().desc,children:t.desc})]})},k=function(e){var t=e.pizzaList;return(0,f.jsxs)("div",{className:z().container,children:[(0,f.jsx)("h1",{className:z().title,children:"THE BEST PIZZA IN TOWN"}),(0,f.jsx)("p",{className:z().desc,children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut blandit arcu in pretium molestie. Interdum et malesuada fames acme. Lorem ipsum dolor sit amet, consectetur adipiscing elit."}),(0,f.jsx)("div",{className:z().wrapper,children:t.map((function(e){return(0,f.jsx)(S,{pizza:e},e._id)}))})]})},I=n(214),Z=n.n(I),B=!0;function E(e){var t=e.pizzaList,n=e.admin,i=(0,a.useState)(!0),s=i[0],c=i[1];return(0,f.jsxs)("div",{className:Z().container,children:[(0,f.jsxs)(r.default,{children:[(0,f.jsx)("title",{children:"Pizza Restaurant"}),(0,f.jsx)("meta",{name:"description",content:"Best pizza shop in town"}),(0,f.jsx)("link",{rel:"icon",href:"/icon.png?v=00.00.00.01"})]}),(0,f.jsx)(w,{}),n&&(0,f.jsx)(g,{setClose:c}),(0,f.jsx)(k,{pizzaList:t}),!s&&(0,f.jsx)(h,{setClose:c})]})}},8581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(531)}])},2753:function(e){e.exports={mainAddButton:"Add_mainAddButton__jwM2b",extraButton:"Add_extraButton__KFklS",container:"Add_container__nehfK",wrapper:"Add_wrapper__JHSck",close:"Add_close__1Bqhj",item:"Add_item__pgcYA",label:"Add_label__jItnq",input:"Add_input__EuiD8",priceContainer:"Add_priceContainer__WuGaE",indexSm:"Add_indexSm__vmYXO",extra:"Add_extra__3fi1Q",extraItems:"Add_extraItems__GWk48",extraItem:"Add_extraItem__9Z9sH",addButton:"Add_addButton__6OqWh"}},4519:function(e){e.exports={mainAddButton:"AddButton_mainAddButton__LXRdC"}},4381:function(e){e.exports={container:"Featured_container__djdhp",arrowContainer:"Featured_arrowContainer__eRP7q",wrapper:"Featured_wrapper__Up3ZO",imgContainer:"Featured_imgContainer__bP_Gp"}},214:function(){},589:function(e){e.exports={container:"PizzaCard_container__mVRTr",title:"PizzaCard_title__sZOH_",price:"PizzaCard_price___VsOO",desc:"PizzaCard_desc__n11RA"}},7526:function(e){e.exports={container:"PizzaList_container__zgXeF",desc:"PizzaList_desc__kbamW",wrapper:"PizzaList_wrapper__hlf57",title:"PizzaList_title__RoCAI"}},9008:function(e,t,n){e.exports=n(2717)},1163:function(e,t,n){e.exports=n(9898)},6586:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},37:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(6586);var a=n(6988);function i(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},6988:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(6586);function a(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},function(e){e.O(0,[170,774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);