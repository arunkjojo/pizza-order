(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{8437:function(t,e,r){"use strict";r.r(e);var n=r(2809),s=r(9711),a=r(266),c=r(809),i=r.n(c),l=r(7294),o=r(5675),u=r(9473),d=r(5021),h=r(2425),_=r.n(h),p=r(9669),x=r.n(p),j=r(1163),m=r(5646),f=r(5893);function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}e.default=function(){var t=(0,l.useState)(!1),e=t[0],r=t[1],n=(0,j.useRouter)(),c=(0,u.I0)(),h=(0,u.v9)((function(t){return t.cart})),p=h.total,b={layout:"vertical"},y=function(){var t=(0,a.Z)(i().mark((function t(e){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x().post("http://localhost:3000/api/orders",e);case 3:r=t.sent,c((0,m.mc)()),201===r.status&&n.push("/orders/"+r.data._id),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("error",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),N=function(t){var e=t.currency,r=t.showSpinner,n=(0,d.Up)(),a=(0,s.Z)(n,2),c=a[0],i=c.options,o=c.isPending,u=a[1];return(0,l.useEffect)((function(){u({type:"resetOptions",value:v(v({},i),{},{currency:e})})}),[e,r]),(0,f.jsxs)(f.Fragment,{children:[r&&o&&(0,f.jsx)("div",{className:"spinner"}),(0,f.jsx)(d.ch,{style:b,disabled:!1,forceReRender:[p,e,b],fundingSource:void 0,createOrder:function(t,r){return r.order.create({purchase_units:[{amount:{currency_code:e,value:p}}]}).then((function(t){return t}))},onApprove:function(t,e){return e.order.capture().then((function(t){var e=t.purchase_units[0].shipping;y({customer:e.name.full_name,address:e.address.address_line_1,total:h.total,method:1})}))}})]})};return(0,f.jsxs)("div",{className:_().container,children:[(0,f.jsx)("div",{className:_().left,children:(0,f.jsxs)("table",{className:_().table,children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{className:_().trTitle,children:[(0,f.jsx)("th",{children:"Product"}),(0,f.jsx)("th",{children:"Name"}),(0,f.jsx)("th",{children:"Extras"}),(0,f.jsx)("th",{children:"Price"}),(0,f.jsx)("th",{children:"Quantity"}),(0,f.jsx)("th",{children:"Total"})]})}),(0,f.jsx)("tbody",{children:h.products.map((function(t){return(0,f.jsxs)("tr",{className:_().tr,children:[(0,f.jsx)("td",{children:(0,f.jsx)("div",{className:_().imgContainer,children:(0,f.jsx)(o.default,{src:t.img,layout:"fill",objectFit:"cover",alt:""})})}),(0,f.jsx)("td",{children:(0,f.jsx)("span",{className:_().name,children:t.title})}),(0,f.jsx)("td",{children:(0,f.jsx)("span",{className:_().extras,children:t.extras.map((function(t){return(0,f.jsxs)("span",{children:[t.text,", "]},t._id)}))})}),(0,f.jsx)("td",{children:(0,f.jsxs)("span",{className:_().price,children:["$ ",t.price]})}),(0,f.jsx)("td",{children:(0,f.jsx)("span",{className:_().quantity,children:t.quantity})}),(0,f.jsx)("td",{children:(0,f.jsxs)("span",{className:_().total,children:["$ ",t.price*t.quantity]})})]},t._id)}))})]})}),(0,f.jsx)("div",{className:_().right,children:(0,f.jsxs)("div",{className:_().wrapper,children:[(0,f.jsx)("h2",{className:_().title,children:"CART TOTAL"}),(0,f.jsxs)("div",{className:_().totalText,children:[(0,f.jsx)("b",{className:_().totalTextTitle,children:"Subtotal:"}),"$",Number(h.total).toFixed(2)]}),(0,f.jsxs)("div",{className:_().totalText,children:[(0,f.jsx)("b",{className:_().totalTextTitle,children:"Discount:"}),"$ 0.00"]}),(0,f.jsxs)("div",{className:_().totalText,children:[(0,f.jsx)("b",{className:_().totalTextTitle,children:"Total:"}),"$",Number(h.total).toFixed(2)]}),e?(0,f.jsxs)("div",{className:_().paymentMethods,children:[(0,f.jsx)("button",{className:_().payButton,children:"CASH On DELIVERY!"}),(0,f.jsx)(d.Vv,{options:{"client-id":"ARZzEIvxw---71BKK7YGbCSQhwXQyN6YSmFsjxGdofI_RjL_UeiGQovCICjSi8sHeRpPFMQD7szNP6Q5",components:"buttons",currency:"USD","disable-funding":"credit,card,p24"},children:(0,f.jsx)(N,{currency:"USD",showSpinner:!0})})]}):(0,f.jsx)("button",{onClick:function(){return r(!0)},className:_().button,children:"CHECKOUT NOW!"})]})})]})}},7652:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return r(8437)}])},2425:function(t){t.exports={container:"Cart_container__v66s_",left:"Cart_left__uUdiV",right:"Cart_right__uQLkn",imgContainer:"Cart_imgContainer__X_0WK",table:"Cart_table__AtJ4d",name:"Cart_name__VSWCt",total:"Cart_total__e1x0z",wrapper:"Cart_wrapper__hwYiL",totalTextTitle:"Cart_totalTextTitle__5HC3q",button:"Cart_button__FRScP",trTitle:"Cart_trTitle__xPgd6",tr:"Cart_tr___K6pr",extras:"Cart_extras__B_Qbi",price:"Cart_price__JXkRc",quantity:"Cart_quantity__bbm6q",paymentMethods:"Cart_paymentMethods__9ZXIb",payButton:"Cart_payButton__YuHP8"}}},function(t){t.O(0,[170,957,774,888,179],(function(){return e=7652,t(t.s=e);var e}));var e=t.O();_N_E=e}]);